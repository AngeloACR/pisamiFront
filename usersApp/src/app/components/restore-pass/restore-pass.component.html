<ion-header [translucent]="true">
    <app-header [title]="selectedTitle"></app-header>
</ion-header>

<ion-content>
    <div class="pageBox">
        <div class="logBox">
            <div class="logoBox">
                <img src="assets/logoblanco.png" alt="Logo" />
            </div>
            <div class="formBox">
                <div class="textBanner">
                    <p>Restablece tu Contraseña</p>
                </div>
                <form [formGroup]="restorePassword" *ngIf="correo" (ngSubmit)="restorePass()">
                    <div class="formContent">
                        <div class="formInput">
                            <input class="lInput" type="text" placeholder="Correo electrónico" formControlName="mail"
                                name="mail" />
                        </div>
                        <div class="errorTag"
                            *ngIf="fRestore.mail.errors?.required && (fRestore.mail.touched || fRestore.mail.dirty)">
                            Este campo es requerido</div>
                        <div class="errorTag"
                            *ngIf="fRestore.mail.errors?.email && (fRestore.mail.touched || fRestore.mail.dirty)">Por
                            favor ingrese un correo válido</div>

                        <div class="buttonBox">
                            <button type="submit" class="formButton">
                                <p>Enviar</p>
                            </button>
                        </div>
                    </div>
                </form>
                <form [formGroup]="restorePassword" *ngIf="codigo" (ngSubmit)="checkCode()">
                    <div class="formContent">
                        <div class="formInput">
                            <input class="lInput" type="text" placeholder="Introduzca su codigo" formControlName="code"
                                name="code" />
                        </div>
                        <div class="errorTag"
                            *ngIf="fRestore.code.errors?.required && (fRestore.code.touched || fRestore.code.dirty)">
                            Este campo es requerido</div>

                        <div class="buttonBox">
                            <button type="submit" class="formButton">
                                <p>Enviar</p>
                            </button>
                        </div>
                    </div>
                </form>
                <form [formGroup]="restorePassword" *ngIf="contrasena" (ngSubmit)="changePass()">
                    <div class="formContent" *ngIf="contrasena">
                        <div class="formInput">
                            <input class="lInput" type="password" placeholder="Nueva contrasena" formControlName="contrasena"
                                name="contrasena" />
                        </div>
                        <div class="errorTag"
                            *ngIf="fRestore.password.errors?.required && (fRestore.password.touched || fRestore.password.dirty)">
                            Este campo es requerido</div>
                        <div class="buttonBox">
                            <button type="submit" class="formButton">
                                <p>Enviar</p>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="confirmText" [ngClass]="showConfirm">
                <span class="loginButton" (click)="close()">X</span>
                <p>{{message}}</p>
            </div>
            <div class="confirmText" [ngClass]="showCode">
                <span class="loginButton" (click)="close()">X</span>
                <p>Introduzca su nueva contrasena</p>
            </div>
            <div class="copyright">
                <img src="assets/logos alcaldia.png" alt="Logo" />
                <p>Copyright Alcaldia Municipal de Ibagué © PISAMI</p>
                <p>Todos los Derechos Reservados</p>
            </div>
        </div>
    </div>
</ion-content>